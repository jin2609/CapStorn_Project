# CapStorn_Project
- 프로젝트 명 : 작업자 데이터를 활용한 품질 불량 사전 예측 시스템
- 데이터 : 유라테크 베트남 공정데이터(기업 데이터이기 때문에 배포 안함)
- 충남대학교 컴퓨터공학과 학위논문
- 참가 대회 : 2019년도 창의작품 경진대회  
[![창의작품 경진대회](https://img.youtube.com/vi/o6ouqZAxguw/0.jpg)](https://www.youtube.com/watch?v=o6ouqZAxguw) 
## 연구 개요
1. 추진 배경  
머신러닝 기반 품질문제 사전예측에 대한 연구는 활발히 이루어지고 있다. 하지만 화학, 반도체 등의 지능화된 설비를 활용한 제조업 분야에서만 연구 활동이 활발히 이루어져 제조업에만 적용이 가능하다. 작업자에 의존하는 조립산업 적용을 위한 연구는 부족한 상황이다.
1. 문제 정의  
추진배경에서 설명하였던 추진배경의 문제점을 해결하기 위해서, 작업자에 의존하는 조립 산업공정에 적용을 위한 연구의 부족함을 해결하기 위하여 많은 연구가 진행되어야 할 것이다.  
기술적 요인으로 모델을 생성할 때 많은 변수들 중 어느 변수를 사용할 경우 더 좋은 결과를 낼 수 있는지, 과적합을 방지할 수 있을지에 대한 연구가 필요할 것이다.  
그리고, 불균형 데이터를 활용하여 학습을 할 때, 비율이 높은 클래스로 선택을 할 확률이 굉장히 높아, 모델 생성에 큰 제약이 있는데 이를 방지하기 위한 효과적인 해결책을 찾아야 할 것이다.  
1. 목표 및 내용  
공정 및 작업자 데이터를 활용하여 품질 불량을 사전에 예측하는 목표를 달성하기 위한 머신러닝 기반 연구를 하여 효율적인 변수 선택법과 데이터 생성 방법을 찾아내는 것이 목표이다.  
활용 데이터는 공정데이터로 불량품과 양품이 불균형을 이루는 데이터이다. 불균형 데이터를 균형 데이터로 바꾸는 작업과 많은 변수들이 존재할 때, 머신러닝 기반 분석방법으로 효율적으로 변수를 선택하는 작업을 수행할 것이다.
1. 기대효과  
작업자에 의존하는 조립 산업에서 머신러닝을 활용하여 높은 성능을 기대할 수 있다.  
작업자에 대한 많은 변수들 중, 어느 방법으로 학습할 변수를 선택할 때 좋은 결과를 얻을 수 있는지에 대한 방법을 알 수 있다.
--------------------------
## 연구 기획
1. 변수 선택  
RandomForest로 분석을 하여, 변수의 중요도를 계산하고 중요도가 낮은 변수를 삭제하여 변수를 선택하는 방법으로 변수를 선택할 수 있다. 변수의 중요도는 불순도 개선에 얼마나 큰 영향을 끼쳤는지에 대한 여부이다.  
Logistic Regression으로 분석을 하여, p-value를 도출하고 p값이 a = 0.05 이하인 변수는 타겟변수를 찾아내는데 연관성이 있는 변수이므로 해당 변수만을 활용하여 학습을 진행한다.  
위 두 가지 방법을 모두 활용하여 변수를 선택하고 분석을 진행한다.  
1. 불량품 데이터 생성  
Gan을 활용하여 불량품 데이터를 생성할 계획을 조기에 기획하였지만, 생각보다 학습에 많은 어려움을 겪고 좋은 데이터를 생성하지 못하여, Gan을 활용한 데이터 생성 연구는 중단하였다.  
Synthetic Minority Over-sampling Technique을 활용하여 불량품 데이터를 생성하여, 데이터 불균형 문제를 해결한다. SMOTE는 오버샘플링 기법으로 불량품의 데이터 개수를 효과적으로 증가 시킬 수 있는 장점이 있다.  
1. 모델 생성
SMOTE를 활용 전, Naive Bayes의 Prior를 Risk의 역할을 수행하도록 하여, 이를 적절한 값으로 변경해 불량품을 잘 선별해내는 모델을 생성한다.  
SMOTE를 활용 후, Multi Layer Perceptron을 활용하여 불량품을 조기에 예측하는 모델을 생성한다.  
--------------------------------
## 연구 결론
1. p-value와 RandomForest 연구 결과
모든 변수를 활용하여 학습을 하는 경우와 p-value와 RandomForest를 활용하여 변수를 선택을 하게 되면 비슷한 성능을 내거나 혹은 좀 더 좋은 성능을 낼 수 있음을 확인하였다.   
그리고, 데이터의 성질에 따라 어떠한 변수를 쓰는지에 따라 모델이 민감해지는 것이 다양하기 때문에 어떠한 방법을 활용할 때 모델이 더 민감해지는지에 대한 결론을 도출하지 못하였다.  
하지만, 모든 변수를 활용하여 학습을 할 때보다 훨씬 더 적은 변수로 비슷하거나 더 좋은 성능을 낼 수 있는 것을 보면 모델의 capacity를 줄이고자 할 때, 매우 효과적인 방법이라고 제시할 수 있다.  
1. Naive Bayes와 MLP 연구 결과  
결과는 MLP를 활용하는 경우가 좀 더 좋은 성과를 거두었음을 알 수 있다. Naive Bayes는 단순히 Prior를 좀 더 민감하게 주어 불량품을 뽑아내는 것이지만, MLP는 데이터를 직접 학습하여 뽑아내는 것이기 때문에 불량품을 비교적 잘 뽑아낼 수 있었다.   
하지만, MLP를 활용하기 위해서는 불균형 데이터 문제를 해결해야한다. 우리는 SMOTE를 활용하여 해결하였지만, 이 불균형 문제를 더 잘 해결할 수 있다면 더 높은 결과가 도출될 수 있을 것이라고 판단되어진다.  
그리고 MLP를 활용하기 위해서는 그 만큼 많은 데이터가 요구되어짐을 데이터를 점차 줄여나가면서 학습해본 결과 알 수 있다. 
따라서 결론적으로 MLP를 활용하기 위해서 많은 데이터와 좋은 불량품 데이터를 생성할 수 있다면 더 잘 예측하는 모델을 생성 할 수 있음을 알 수 있었다.  

